<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>

<body>
	123
	<script>
		// 虚拟代理实现图片与加载
		const myImage = (function () {
			let imgNode = document.createElement('img')
            document.body.appendChild(imgNode)
			return {
				setSrc: function (src) {
					imgNode.src = src
				}
			}
		})()

		const proxyImage = (function() {
			let img = new Image
			img.onload = function() {
					myImage.setSrc(this.src)
			}

			return {
					setSrc: function(src) {
							myImage.setSrc('https://i.loli.net/2021/07/05/QjrI8ZFGbSyVhAt.jpg')
							img.src = src
					}
			}
		})()

		proxyImage.setSrc('https://i.loli.net/2021/07/05/3usMgT2chkmjFqD.jpg')
	</script>
</body>

</html>